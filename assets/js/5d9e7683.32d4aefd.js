"use strict";(self.webpackChunkdilanx_blog=self.webpackChunkdilanx_blog||[]).push([[761],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=a.createContext({}),p=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(i.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(n),h=o,m=u["".concat(i,".").concat(h)]||u[h]||d[h]||r;return n?a.createElement(m,l(l({ref:t},c),{},{components:n})):a.createElement(m,l({ref:t},c))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,l=new Array(r);l[0]=u;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:o,l[1]=s;for(var p=2;p<r;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},7798:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var a=n(7462),o=(n(7294),n(3905));const r={date:new Date("2022-12-14T00:00:00.000Z"),authors:["dilan"],tags:["guides","react","javascript","typescript","beginner"],imageUrl:"a-comprehensive-react-tutorial-for-beginners"},l="A Comprehensive React Tutorial for Beginners",s={permalink:"/a-comprehensive-react-tutorial-for-beginners",source:"@site/blog/a-comprehensive-react-tutorial-for-beginners.md",title:"A Comprehensive React Tutorial for Beginners",description:"React is a powerful JavaScript library for building interactive user interfaces (and it's the most popular one, too). Its component-based architecture allows for complex UIs just by combining small and isolated pieces of code. In combination with JSX, you can easily write your entire UI in JavaScript using a familiar HTML-like syntax. There's an official tutorial where they walk you through the basics of React by making a tic-tac-toe game, and I highly recommend checking that out for a good overview of what React is. However, since the introduction of hooks, a lot of React code you'll see today is written using function components as opposed to the class component alternative, so here's a tutorial for that. They already made tic-tac-toe, so let's make Wordle!",date:"2022-12-14T00:00:00.000Z",formattedDate:"December 14, 2022",tags:[{label:"guides",permalink:"/tags/guides"},{label:"react",permalink:"/tags/react"},{label:"javascript",permalink:"/tags/javascript"},{label:"typescript",permalink:"/tags/typescript"},{label:"beginner",permalink:"/tags/beginner"}],readingTime:24.645,hasTruncateMarker:!0,authors:[{name:"Dilan Nair",title:"Software Developer",url:"https://www.dilanxd.com",icon:{letters:"DN",font:"bold 1.3rem Charter"},key:"dilan"}],frontMatter:{date:"2022-12-14T00:00:00.000Z",authors:["dilan"],tags:["guides","react","javascript","typescript","beginner"],imageUrl:"a-comprehensive-react-tutorial-for-beginners"},nextItem:{title:"How Paper Manages Hundreds of Thousands of Lines of Data",permalink:"/how-paper-manages-hundreds-of-thousands-of-lines-of-data"}},i={authorsImageUrls:[void 0]},p=[{value:"About the guide",id:"about-the-guide",level:2},{value:"Why this tutorial?",id:"why-this-tutorial",level:3},{value:"What are we making?",id:"what-are-we-making",level:3},{value:"JavaScript or TypeScript?",id:"javascript-or-typescript",level:3},{value:"Setup",id:"setup",level:2},{value:"Explore the source code",id:"explore-the-source-code",level:3},{value:"Components",id:"components",level:2},{value:"About React components",id:"about-react-components",level:3},{value:"Creating the board",id:"creating-the-board",level:3},{value:"Props",id:"props",level:2},{value:"About React props",id:"about-react-props",level:3},{value:"Passing data to the cells",id:"passing-data-to-the-cells",level:3},{value:"State and lifecycle",id:"state-and-lifecycle",level:2},{value:"About React state",id:"about-react-state",level:3},{value:"About React hooks",id:"about-react-hooks",level:3},{value:"Using <code>useState</code>",id:"using-usestate",level:3},{value:"Keeping track of row data",id:"keeping-track-of-row-data",level:3},{value:"The game logic",id:"the-game-logic",level:3},{value:"State immutability",id:"state-immutability",level:3},{value:"Adding keyboard functionality",id:"adding-keyboard-functionality",level:3},{value:"Using <code>useEffect</code>",id:"using-useeffect",level:3},{value:"Finishing up",id:"finishing-up",level:3},{value:"Conclusion",id:"conclusion",level:2},{value:"Source code",id:"source-code",level:3},{value:"Community",id:"community",level:3}],c={toc:p};function d(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://reactjs.org/"},"React")," is a powerful JavaScript library for building interactive user interfaces (and it's the most popular one, too). Its ",(0,o.kt)("strong",{parentName:"p"},"component"),"-based architecture allows for complex UIs just by combining small and isolated pieces of code. In combination with ",(0,o.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/introducing-jsx.html"},"JSX"),", you can easily write your entire UI in JavaScript using a familiar HTML-like syntax. There's an official ",(0,o.kt)("a",{parentName:"p",href:"https://reactjs.org/tutorial/tutorial.html"},"tutorial")," where they walk you through the basics of React by making a tic-tac-toe game, and I highly recommend checking that out for a good overview of what React is. However, since the introduction of ",(0,o.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/hooks-intro.html"},"hooks"),", a lot of React code you'll see today is written using function components as opposed to the class component alternative, so here's a tutorial for that. They already made tic-tac-toe, so let's make Wordle!"),(0,o.kt)("admonition",{title:"before we start",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"This tutorial ",(0,o.kt)("strong",{parentName:"p"},"does not")," assume prior knowledge of React but ",(0,o.kt)("strong",{parentName:"p"},"does")," assume at least some prior knowledge of HTML, CSS, and JavaScript. There are tons of resources online to help you with those if you're new! Don't worry about CSS too much for this tutorial though since the starter code has it done for you.")),(0,o.kt)("h2",{id:"about-the-guide"},"About the guide"),(0,o.kt)("h3",{id:"why-this-tutorial"},"Why this tutorial?"),(0,o.kt)("p",null,"This tutorial focuses on function components rather than class components, which is what React's official tutorial covers. If you're not sure what the difference is, this tutorial covers newer React functionality and techniques."),(0,o.kt)("h3",{id:"what-are-we-making"},"What are we making?"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.nytimes.com/games/wordle/index.html"},"Wordle")," is a simple word puzzle game that was especially popular at the beginning of 2022. In this game, you have 6 tries to guess a five-letter word. After each try, each letter is marked as either green, yellow, or gray. Green means the letter is in the correct position, yellow means the letter is in the answer but in the wrong position, and gray means it's not in the answer at all. I recommend trying it out for yourself real quick!"),(0,o.kt)("h3",{id:"javascript-or-typescript"},"JavaScript or TypeScript?"),(0,o.kt)("p",null,"This tutorial covers both! All code blocks have a JavaScript tab and a TypeScript tab, so you can choose the one you prefer."),(0,o.kt)("h2",{id:"setup"},"Setup"),(0,o.kt)("p",null,"You're totally welcome to read this tutorial and not write any code for yourself (if that's what you want, skip this setup section), but you can also follow along! It's super easy to get things going in your own code editor."),(0,o.kt)("admonition",{title:"prerequisites",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Ensure you have ",(0,o.kt)("a",{parentName:"p",href:"https://nodejs.org/en/"},"Node.js")," and ",(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/"},"npm")," installed. You can check if you have these installed by running ",(0,o.kt)("inlineCode",{parentName:"p"},"$ node -v")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"$ npm -v")," in your terminal."),(0,o.kt)("p",{parentName:"admonition"},"The best way to install everything is with ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"https://github.com/nvm-sh/nvm#installing-and-updating"},"nvm")),". Follow the instructions to install nvm, then run ",(0,o.kt)("inlineCode",{parentName:"p"},"$ nvm install node")," to install the latest version of Node.js and npm.")),(0,o.kt)("p",null,"First, get the starter code for this tutorial."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ npm create tutorial wordle\n")),(0,o.kt)("p",null,"You'll then be prompted to select the JavaScript or TypeScript variant. Select the one you prefer. You can also get my completed source code for this project if you'd like (only available in TypeScript)."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ npm create tutorial wordle\n\nUsing tutorial project tutorial-react-wordle.\n? Select a variant \u203a - Use arrow-keys. Return to submit.\n\u276f   JavaScript\n    TypeScript\n    Completed\n")),(0,o.kt)("p",null,"Move into the project directory and install the dependencies."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ cd tutorial-react-wordle\n$ npm install\n")),(0,o.kt)("p",null,"This project uses the ",(0,o.kt)("a",{parentName:"p",href:"https://vitejs.dev/"},"Vite")," build tool, which includes a script to spin up the server."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ npm run dev\n")),(0,o.kt)("p",null,'Now, if you did everything correctly, visit the printed link in your browser and you should see a gray screen with "Hi" in small text in the middle.'),(0,o.kt)("p",null,"Hi!! Looks like we're ready to get started."),(0,o.kt)("h3",{id:"explore-the-source-code"},"Explore the source code"),(0,o.kt)("p",null,"Open up the project in your code editor of choice (like ",(0,o.kt)("a",{parentName:"p",href:"https://code.visualstudio.com/"},"Visual Studio Code"),"). Check out the files to get familiar with how the project is structured. We'll start in ",(0,o.kt)("inlineCode",{parentName:"p"},"App.jsx")," (or ",(0,o.kt)("inlineCode",{parentName:"p"},"App.tsx")," if you're using TypeScript)."),(0,o.kt)("h2",{id:"components"},"Components"),(0,o.kt)("h3",{id:"about-react-components"},"About React components"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Components")," are basically pieces of UI that contain a chunk of isolated code. A full UI will be made up of a bunch of these. In our case with Wordle, we'll have a few components. We'll have one for the board itself, one for a word row, and one for a letter cell. Each row will contain 5 letter cells, and the board will contain 6 rows."),(0,o.kt)("p",null,"Typically, each component should be in its own file and should be the default export. ",(0,o.kt)("strong",{parentName:"p"},"Components MUST start with an uppercase letter!")," Although you can ",(0,o.kt)("em",{parentName:"p"},"technically")," name one completely lowercase, JSX won't know if you're referring to a custom component or an actual HTML component. For example, if you name your component ",(0,o.kt)("inlineCode",{parentName:"p"},"div")," and try to use that in JSX, you'll get the default HTML div element."),(0,o.kt)("h3",{id:"creating-the-board"},"Creating the board"),(0,o.kt)("p",null,'Let\'s start by creating a blank board, then replacing out our "Hi" message with the component.'),(0,o.kt)("p",null,"Create a ",(0,o.kt)("inlineCode",{parentName:"p"},"components")," directory in ",(0,o.kt)("inlineCode",{parentName:"p"},"src")," and define a new ",(0,o.kt)("inlineCode",{parentName:"p"},"Board")," function component:"),(0,o.kt)("langs",null,(0,o.kt)("lang",{value:"JavaScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/components/Board.jsx"',title:'"src/components/Board.jsx"'},'export default function Board() {\n  return <div className="board"></div>;\n}\n'))),(0,o.kt)("lang",{value:"TypeScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/Board.tsx"',title:'"src/components/Board.tsx"'},'export default function Board() {\n  return <div className="board"></div>;\n}\n')))),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Use the same ",(0,o.kt)("inlineCode",{parentName:"p"},"className")," attribute values as I do if you're using the starter code! I've already written all of the CSS we need in ",(0,o.kt)("inlineCode",{parentName:"p"},"src/index.css"),", but you're welcome to add your own, of course!")),(0,o.kt)("p",null,"Now, let's add it to our default ",(0,o.kt)("inlineCode",{parentName:"p"},"App")," component:"),(0,o.kt)("langs",null,(0,o.kt)("lang",{value:"JavaScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/App.jsx"',title:'"src/App.jsx"'},"// highlight-next-line\nimport Board from './components/Board';\n\nfunction App() {\n  // highlight-start\n  return (\n    <div className=\"app\">\n      <Board />\n    </div>\n  );\n  // highlight-end\n}\n\nexport default App;\n"))),(0,o.kt)("lang",{value:"TypeScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},"// highlight-next-line\nimport Board from './components/Board';\n\nfunction App() {\n  // highlight-start\n  return (\n    <div className=\"app\">\n      <Board />\n    </div>\n  );\n  // highlight-end\n}\n\nexport default App;\n")))),(0,o.kt)("p",null,"Nice! Let's create a cell component and a row component, then add a single cell to a row, then add a single row to our board."),(0,o.kt)("langs",null,(0,o.kt)("lang",{value:"JavaScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/components/Cell.jsx"',title:'"src/components/Cell.jsx"'},'export default function Cell() {\n  return <div className="cell"></div>;\n}\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/components/Row.jsx"',title:'"src/components/Row.jsx"'},"import Cell from './Cell';\n\nexport default function Row() {\n  return (\n    <div className=\"row\">\n      <Cell />\n    </div>\n  );\n}\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/components/Board.jsx"',title:'"src/components/Board.jsx"'},"// highlight-next-line\nimport Row from './Row';\n\nexport default function Board() {\n  // highlight-start\n  return (\n    <div className=\"board\">\n      <Row />\n    </div>\n  );\n  // highlight-end\n}\n"))),(0,o.kt)("lang",{value:"TypeScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/Cell.tsx"',title:'"src/components/Cell.tsx"'},'export default function Cell() {\n  return <div className="cell"></div>;\n}\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/Row.tsx"',title:'"src/components/Row.tsx"'},"import Cell from './Cell';\n\nexport default function Row() {\n  return (\n    <div className=\"row\">\n      <Cell />\n    </div>\n  );\n}\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/Board.tsx"',title:'"src/components/Board.tsx"'},"// highlight-next-line\nimport Row from './Row';\n\nexport default function Board() {\n  // highlight-start\n  return (\n    <div className=\"board\">\n      <Row />\n    </div>\n  );\n  // highlight-end\n}\n")))),(0,o.kt)("p",null,"If everything goes well, a single letter cell should appear in the middle of the screen."),(0,o.kt)("image",{fm:r,src:"single-cell.png"}),(0,o.kt)("p",null,"Now, add 4 more cells to the row component, and 5 more rows to the board component."),(0,o.kt)("langs",null,(0,o.kt)("lang",{value:"JavaScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/components/Row.jsx"',title:'"src/components/Row.jsx"'},'// ...\n\nexport default function Row() {\n  return (\n    <div className="row">\n      <Cell />\n      {/* highlight-start */}\n      <Cell />\n      <Cell />\n      <Cell />\n      <Cell />\n      {/* highlight-end */}\n    </div>\n  );\n}\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/components/Board.jsx"',title:'"src/components/Board.jsx"'},'// ...\n\nexport default function Board() {\n  return (\n    <div className="board">\n      <Row />\n      {/* highlight-start */}\n      <Row />\n      <Row />\n      <Row />\n      <Row />\n      <Row />\n      {/* highlight-end */}\n    </div>\n  );\n}\n'))),(0,o.kt)("lang",{value:"TypeScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/Row.tsx"',title:'"src/components/Row.tsx"'},'// ...\n\nexport default function Row() {\n  return (\n    <div className="row">\n      <Cell />\n      {/* highlight-start */}\n      <Cell />\n      <Cell />\n      <Cell />\n      <Cell />\n      {/* highlight-end */}\n    </div>\n  );\n}\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/Board.tsx"',title:'"src/components/Board.tsx"'},'// ...\n\nexport default function Board() {\n  return (\n    <div className="board">\n      <Row />\n      {/* highlight-start */}\n      <Row />\n      <Row />\n      <Row />\n      <Row />\n      <Row />\n      {/* highlight-end */}\n    </div>\n  );\n}\n')))),(0,o.kt)("image",{fm:r,src:"board.png"}),(0,o.kt)("h2",{id:"props"},"Props"),(0,o.kt)("h3",{id:"about-react-props"},"About React props"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Props"),", short for properties, are read-only values that can be passed to components. The component will rerender when its props change. Props work similarly to HTML attributes syntactically, but their values can be any JavaScript expression."),(0,o.kt)("p",null,"With function components, props are passed to the function as a single object argument. Check out this example unrelated to our game:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="ExampleComponent.jsx"',title:'"ExampleComponent.jsx"'},"export default function ExampleComponent(props) {\n  return (\n    <div>\n      {props.message} {props.num}\n    </div>\n  );\n}\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="ExampleApp.jsx"',title:'"ExampleApp.jsx"'},'// ...\n\nexport default function ExampleApp() {\n  return (\n    <div>\n      <ExampleComponent message="Hello, world!" num={4} />\n    </div>\n  );\n}\n')),(0,o.kt)("p",null,"Any JavaScript expression is fair game, so you can even pass a function as a prop:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="ExampleButton.jsx"',title:'"ExampleButton.jsx"'},"export default function ExampleButton(props) {\n  return <button onClick={() => props.handleClick()}>{props.text}</button>;\n}\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="ExampleApp.jsx"',title:'"ExampleApp.jsx"'},"// ...\n\nexport default function ExampleApp() {\n  return (\n    <div>\n      <ExampleButton\n        text=\"Click me!\"\n        handleClick={() => console.log('Hello, world!')}\n      />\n    </div>\n  );\n}\n")),(0,o.kt)("p",null,"And, since props are just passed as JavaScript objects, you can ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment"},"destructure")," them:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="ExampleComponent.jsx"',title:'"ExampleComponent.jsx"'},"export default function ExampleButton({ text, handleClick }) {\n  return <button onClick={() => handleClick()}>{text}</button>;\n}\n")),(0,o.kt)("h3",{id:"passing-data-to-the-cells"},"Passing data to the cells"),(0,o.kt)("p",null,"We know that each cell should have a letter and a status. This status can be ",(0,o.kt)("inlineCode",{parentName:"p"},"'correct'"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"'partial'"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"'incorrect'"),", or left ",(0,o.kt)("inlineCode",{parentName:"p"},"undefined"),". The first three are the states each cell can be in when a given row is submitted, and the last one is the state each cell is in when you're still typing out that row. Let's add these as props to our cell component, and code in some logic to display the letter and the status as a background color."),(0,o.kt)("langs",null,(0,o.kt)("lang",{value:"JavaScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/components/Cell.jsx"',title:'"src/components/Cell.jsx"'},"export default function Cell({ letter, status }) {\n  let backgroundColor;\n\n  switch (status) {\n    case 'correct':\n      backgroundColor = 'green';\n      break;\n    case 'partial':\n      backgroundColor = 'orange';\n      break;\n    case 'incorrect':\n      backgroundColor = 'gray';\n      break;\n  }\n\n  return (\n    <div className=\"cell\" style={{ backgroundColor }}>\n      {letter?.toUpperCase()}\n    </div>\n  );\n}\n"))),(0,o.kt)("lang",{value:"TypeScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/Cell.tsx"',title:'"src/components/Cell.tsx"'},"import type { Status } from '../types';\n\ninterface CellProps {\n  letter?: string;\n  status?: Status;\n}\n\nexport default function Cell({ letter, status }: CellData) {\n  let backgroundColor;\n\n  switch (status) {\n    case 'correct':\n      backgroundColor = 'green';\n      break;\n    case 'partial':\n      backgroundColor = 'orange';\n      break;\n    case 'incorrect':\n      backgroundColor = 'gray';\n      break;\n  }\n\n  return (\n    <div className=\"cell\" style={{ backgroundColor }}>\n      {letter?.toUpperCase()}\n    </div>\n  );\n}\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/types.ts"',title:'"src/types.ts"'},"export type Status = 'correct' | 'partial' | 'incorrect';\n")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"The starter code includes a line in ",(0,o.kt)("inlineCode",{parentName:"p"},"src/types.ts")," that exports an empty object. This is just to get rid of the compiler errors because TypeScript's ",(0,o.kt)("inlineCode",{parentName:"p"},"isolatedModules")," setting is enabled. You can remove it when you add these exports.")))),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Note that the ",(0,o.kt)("inlineCode",{parentName:"p"},"style")," prop takes in an object with camelCase properties (",(0,o.kt)("inlineCode",{parentName:"p"},"backgroundColor"),") rather than a string like with the HTML ",(0,o.kt)("inlineCode",{parentName:"p"},"style")," attribute! Typically, you shouldn't need to update style manually and can just use CSS classes, but since we're just dynamically changing the background color based on the status, we'll do so here."),(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/dom-elements.html#style"},"https://reactjs.org/docs/dom-elements.html#style"))),(0,o.kt)("p",null,"Finally, let's test this by adding some dummy data to the first cell in our row component:"),(0,o.kt)("langs",null,(0,o.kt)("lang",{value:"JavaScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/components/Row.jsx"',title:'"src/components/Row.jsx"'},'// ...\n\nexport default function Row() {\n  return (\n    <div className="row">\n      {/* highlight-next-line */}\n      <Cell letter="a" status="correct" />\n      <Cell />\n      <Cell />\n      <Cell />\n      <Cell />\n    </div>\n  );\n}\n'))),(0,o.kt)("lang",{value:"TypeScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/Row.tsx"',title:'"src/components/Row.tsx"'},'// ...\n\nexport default function Row() {\n  return (\n    <div className="row">\n      {/* highlight-next-line */}\n      <Cell letter="a" status="correct" />\n      <Cell />\n      <Cell />\n      <Cell />\n      <Cell />\n    </div>\n  );\n}\n')))),(0,o.kt)("image",{fm:r,src:"dummy-first-cell.png"}),(0,o.kt)("p",null,"Now that we have that working, let's set up some row props so our cell data can change dynamically."),(0,o.kt)("langs",null,(0,o.kt)("lang",{value:"JavaScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/components/Row.jsx"',title:'"src/components/Row.jsx"'},'// ...\n\nexport default function Row({ data }) {\n  return (\n    <div className="row">\n      {/* highlight-start */}\n      <Cell {...data?.[0]} />\n      <Cell {...data?.[1]} />\n      <Cell {...data?.[2]} />\n      <Cell {...data?.[3]} />\n      <Cell {...data?.[4]} />\n      {/* highlight-end */}\n    </div>\n  );\n}\n'))),(0,o.kt)("lang",{value:"TypeScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/Row.tsx"',title:'"src/components/Row.tsx"'},"// ...\n// highlight-start\nimport type { CellData } from '../types';\n\ninterface RowProps {\n  data?: CellData[];\n}\n// highlight-end\n\nexport default function Row({ data }: RowProps) {\n  return (\n    <div className=\"row\">\n      {/* highlight-start */}\n      <Cell {...data?.[0]} />\n      <Cell {...data?.[1]} />\n      <Cell {...data?.[2]} />\n      <Cell {...data?.[3]} />\n      <Cell {...data?.[4]} />\n      {/* highlight-end */}\n    </div>\n  );\n}\n")))),(0,o.kt)("admonition",{title:"spread syntax",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Here, we used ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax"},"spread syntax")," ",(0,o.kt)("inlineCode",{parentName:"p"},"..."),'. This "spreads" out the properties of the object we\'re passing in, so that we can pass them in as props to the cell component. For example, if we pass in ',(0,o.kt)("inlineCode",{parentName:"p"},"{ letter: 'a', status: 'correct' }"),", then the cell component will receive ",(0,o.kt)("inlineCode",{parentName:"p"},'letter="a"')," and ",(0,o.kt)("inlineCode",{parentName:"p"},'status="correct"')," as props. This is equivalent to writing it out like this:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},"<Cell letter={data?.[0]?.letter} status={data?.[0]?.status}>\n"))),(0,o.kt)("admonition",{title:"optional chaining",type:"note"},(0,o.kt)("p",{parentName:"admonition"},"We also used ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"},"optional chaining")," ",(0,o.kt)("inlineCode",{parentName:"p"},"?."),". This allows us to immediately return ",(0,o.kt)("inlineCode",{parentName:"p"},"undefined")," from the expression if the value on the left is ",(0,o.kt)("inlineCode",{parentName:"p"},"undefined"),", saving us from errors about reading properties from ",(0,o.kt)("inlineCode",{parentName:"p"},"undefined"),". This is important since we still want to render 5 cells in a row, but not all of them will have data (the blank ones won't).")),(0,o.kt)("p",null,"At this point, our dummy data should disappear, but the board should still have all of the cells visible yet empty."),(0,o.kt)("h2",{id:"state-and-lifecycle"},"State and lifecycle"),(0,o.kt)("h3",{id:"about-react-state"},"About React state"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"State")," serves as a way for components to store and keep track of data that changes over time. Each component has its own state that only it (and its children that receive it as props) can access. To use state in function components, we'll need to use the ",(0,o.kt)("inlineCode",{parentName:"p"},"useState")," hook."),(0,o.kt)("h3",{id:"about-react-hooks"},"About React hooks"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/hooks-intro.html"},(0,o.kt)("strong",{parentName:"a"},"Hooks"))," let you use state and other React features in function components. They were introduced in React 16.8, so before that, function components couldn't use state and you'd have to use class components instead. We'll be using a couple of them in this tutorial, namely ",(0,o.kt)("inlineCode",{parentName:"p"},"useState")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"useEffect"),", but we'll start with ",(0,o.kt)("inlineCode",{parentName:"p"},"useState")," for now."),(0,o.kt)("h3",{id:"using-usestate"},"Using ",(0,o.kt)("inlineCode",{parentName:"h3"},"useState")),(0,o.kt)("p",null,"Let's bring back that example app and button from earlier."),(0,o.kt)("p",null,"Here's the button component for reference:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="ExampleComponent.jsx"',title:'"ExampleComponent.jsx"'},"export default function ExampleButton({ text, handleClick }) {\n  return <button onClick={() => handleClick()}>{text}</button>;\n}\n")),(0,o.kt)("p",null,"Now, we'll make it so clicking the button increments a number stored in the app component's state:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="ExampleApp.jsx"',title:'"ExampleApp.jsx"'},"// ...\n// highlight-next-line\nimport { useState } from 'react';\n\nexport default function ExampleApp() {\n  // highlight-next-line\n  const [count, setCount] = useState(0);\n\n  return (\n    <div>\n      <ExampleButton\n        {/* highlight-start */}\n        text={`Clicked ${count} times`}\n        handleClick={() => setCount(count + 1)}\n        {/* highlight-end */}\n      />\n    </div>\n  );\n}\n")),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"useState")," function takes in a default value (in this case, that's ",(0,o.kt)("inlineCode",{parentName:"p"},"0"),") to which the state variable ",(0,o.kt)("inlineCode",{parentName:"p"},"count")," will be initialized. It returns a two-element array with the first element being the value of the state variable and the second being a function to update the value. Here, we destructured the array into two variables, ",(0,o.kt)("inlineCode",{parentName:"p"},"count")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"setCount"),"."),(0,o.kt)("p",null,"You probably noticed that we're using ",(0,o.kt)("inlineCode",{parentName:"p"},"setCount")," to update the state rather than just updating ",(0,o.kt)("inlineCode",{parentName:"p"},"count")," directly. This is important so that React knows when to re-render the component and to avoid unnecessarily re-rendering it if the props and state haven't changed."),(0,o.kt)("p",null,"Clicking on the button will update the state and re-render the component, causing the button text to update."),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"You can use as many ",(0,o.kt)("inlineCode",{parentName:"p"},"useState")," calls as you want in a component! You should have one for each state variable that you're want to use.")),(0,o.kt)("h3",{id:"keeping-track-of-row-data"},"Keeping track of row data"),(0,o.kt)("p",null,"Let's define some state within our board component. We'll use a two-dimentional array of cell data objects (letter and status) to represent each row and each cell in that row."),(0,o.kt)("langs",null,(0,o.kt)("lang",{value:"JavaScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/components/Board.jsx"',title:'"src/components/Board.jsx"'},"// ...\nimport { useState } from 'react';\n\nexport default function Board() {\n  const [rows, setRows] = useState([[]]);\n\n  return (\n    <div className=\"board\">\n      <Row data={rows[0]} />\n      <Row data={rows[1]} />\n      <Row data={rows[2]} />\n      <Row data={rows[3]} />\n      <Row data={rows[4]} />\n      <Row data={rows[5]} />\n    </div>\n  );\n}\n"))),(0,o.kt)("lang",{value:"TypeScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/Board.tsx"',title:'"src/components/Board.tsx"'},"// ...\nimport type { CellData } from '../types';\nimport { useState } from 'react';\n\nexport default function Board() {\n  const [rows, setRows] = useState<CellData[][]>([[]]);\n\n  return (\n    <div className=\"board\">\n      <Row data={rows[0]} />\n      <Row data={rows[1]} />\n      <Row data={rows[2]} />\n      <Row data={rows[3]} />\n      <Row data={rows[4]} />\n      <Row data={rows[5]} />\n    </div>\n  );\n}\n")))),(0,o.kt)("p",null,"We initialized the state variable ",(0,o.kt)("inlineCode",{parentName:"p"},"rows")," to be an array containing one empty array to give us a starting point when entering data. This will make more sense as we implement the game logic."),(0,o.kt)("h3",{id:"the-game-logic"},"The game logic"),(0,o.kt)("p",null,"Before we directly modify our state and implement keyboard functionality, let's create a function to handle the game logic."),(0,o.kt)("p",null,"Let's define a new exported function in our ",(0,o.kt)("inlineCode",{parentName:"p"},"src/common.js")," (or ",(0,o.kt)("inlineCode",{parentName:"p"},"src/common.ts"),") file that takes in a key, the Wordle word, and our current data 2D array, which will return a new 2D array with the updated data:"),(0,o.kt)("langs",null,(0,o.kt)("lang",{value:"JavaScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="src/common.js"',title:'"src/common.js"'},"// Import the words list. The JSON file should already be in the `src` directory.\nimport words from './words.json';\n\nexport function update(key, word, rows) {\n  // In Wordle, we're only ever updating the last row.\n  const current = rows.length - 1;\n\n  // Let's separate out the old rows since we're not changing them,\n  // then spread the current row into a new array.\n  // This is important for STATE IMMUTABILITY, which we'll talk about later.\n  let old = rows.slice(0, current);\n  let row = [...rows[current]];\n\n  // Use regex to check if the key is a letter.\n  if (/^[a-z]$/.test(key)) {\n    // If the row already has 5 letters, don't update anything.\n    if (row.length === 5) return rows;\n\n    // Otherwise, add the new letter to the row.\n    // We'll leave the status undefined for now since the player\n    // is still typing the word and can backspace the letter.\n    row.push({ letter: key });\n  }\n\n  // If the key is backspace, remove the last letter from the row.\n  if (key === 'Backspace') {\n    row.pop();\n  }\n\n  // Check if the key is enter\n  if (key === 'Enter') {\n    // Make sure the row has 5 letters and that it makes up a valid word.\n    // If not, return the old rows so nothing is updated.\n    // See isWord below this function.\n    if (row.length !== 5 || !isWord(row)) return rows;\n\n    // Update the row with each letter's status changed.\n    // See checkWord below this function.\n    row = checkWord(word, rows[current]);\n\n    // If we're not yet at the end of the game, return the updated rows plus\n    // an empty row for the next attempt.\n    if (rows.length < 6) {\n      return [...old, row, []];\n    }\n  }\n\n  // Return the updated rows.\n  return [...old, row];\n}\n\n// Check if the row makes up a valid word.\nexport function isWord(row) {\n  const word = row.map(({ letter }) => letter).join('');\n  return words.includes(word);\n}\n\n// Determine the correctness of each letter in the attempt.\nexport function checkWord(word, row) {\n  const letters = word.split('');\n  return row.map(({ letter }, i) => {\n    let status: Status;\n    if (letter === letters[i]) {\n      status = 'correct';\n    } else if (letters.includes(letter)) {\n      status = 'partial';\n    } else {\n      status = 'incorrect';\n    }\n\n    return {\n      letter,\n      status,\n    };\n  });\n}\n"))),(0,o.kt)("lang",{value:"TypeScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/common.ts"',title:'"src/common.ts"'},"import type { CellData, Status } from './types';\n// Import the words list. The JSON file should already be in the `src` directory.\nimport words from './words.json';\n\nexport function update(key: string, word: string, rows: CellData[][]) {\n  // In Wordle, we're only ever updating the last row.\n  const current = rows.length - 1;\n\n  // Let's separate out the old rows since we're not changing them,\n  // then spread the current row into a new array.\n  // This is important for STATE IMMUTABILITY, which we'll talk about later.\n  let old = rows.slice(0, current);\n  let row = [...rows[current]];\n\n  // Use regex to check if the key is a letter.\n  if (/^[a-z]$/.test(key)) {\n    // If the row already has 5 letters, don't update anything.\n    if (row.length === 5) return rows;\n\n    // Otherwise, add the new letter to the row.\n    // We'll leave the status undefined for now since the player\n    // is still typing the word and can backspace the letter.\n    row.push({ letter: key });\n  }\n\n  // If the key is backspace, remove the last letter from the row.\n  if (key === 'Backspace') {\n    row.pop();\n  }\n\n  // Check if the key is enter\n  if (key === 'Enter') {\n    // Make sure the row has 5 letters and that it makes up a valid word.\n    // If not, return the old rows so nothing is updated.\n    // See isWord below this function.\n    if (row.length !== 5 || !isWord(row)) return rows;\n\n    // Update the row with each letter's status changed.\n    // See checkWord below this function.\n    row = checkWord(word, rows[current]);\n\n    // If we're not yet at the end of the game, return the updated rows plus\n    // an empty row for the next attempt.\n    if (rows.length < 6) {\n      return [...old, row, []];\n    }\n  }\n\n  // Return the updated rows.\n  return [...old, row];\n}\n\n// Check if the row makes up a valid word.\nexport function isWord(row: CellData[]) {\n  const word = row.map(({ letter }) => letter).join('');\n  return words.includes(word);\n}\n\n// Determine the correctness of each letter in the attempt.\nexport function checkWord(word: string, row: CellData[]) {\n  const letters = word.split('');\n  return row.map(({ letter }, i) => {\n    let status: Status;\n    if (letter === letters[i]) {\n      status = 'correct';\n    } else if (letters.includes(letter)) {\n      status = 'partial';\n    } else {\n      status = 'incorrect';\n    }\n\n    return {\n      letter,\n      status,\n    };\n  });\n}\n")))),(0,o.kt)("h3",{id:"state-immutability"},"State immutability"),(0,o.kt)("p",null,"In our logic code, we created a copy of the row we were modifying (that's why we did ",(0,o.kt)("inlineCode",{parentName:"p"},"let row = [...rows[current]]")," instead of ",(0,o.kt)("inlineCode",{parentName:"p"},"let row = rows[current]"),"), and then we returned a new array with the updated row. This is done for the same reason we talked about in the ",(0,o.kt)("a",{parentName:"p",href:"#using-usestate"},"using ",(0,o.kt)("inlineCode",{parentName:"a"},"useState"))," section, but is a bit more complicated here."),(0,o.kt)("p",null,"Let's say you have an array ",(0,o.kt)("inlineCode",{parentName:"p"},"x")," of numbers and you add the number ",(0,o.kt)("inlineCode",{parentName:"p"},"5")," to it:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"x.push(5);\n")),(0,o.kt)("p",null,"This doesn't return a new array but rather updates the array in place (reference rather than copy)."),(0,o.kt)("p",null,"We ",(0,o.kt)("em",{parentName:"p"},"could")," do something like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// assume state variable x with the setX exists where x is an array\nx.push(5);\nsetX(x);\n")),(0,o.kt)("p",null,"The problem with this is that we're updating ",(0,o.kt)("inlineCode",{parentName:"p"},"x")," through a reference, which means ",(0,o.kt)("inlineCode",{parentName:"p"},"x")," itself is left unchanged while the actual array value ",(0,o.kt)("inlineCode",{parentName:"p"},"x")," points to gets a new element. When we run ",(0,o.kt)("inlineCode",{parentName:"p"},"setX"),", React doesn't know that the variable changed. While this could work on some occasions, the user may not always see the updated result since the component wouldn't know to re-render."),(0,o.kt)("p",null,"The solution would be something like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const y = [...x];\ny.push(5);\nsetX(y);\n\n// this works, too\nsetX([...x, y]);\n")),(0,o.kt)("h3",{id:"adding-keyboard-functionality"},"Adding keyboard functionality"),(0,o.kt)("p",null,"Let's make it so our board's state updates based on our keyboard input."),(0,o.kt)("p",null,"Define a handler function within the board component:"),(0,o.kt)("langs",null,(0,o.kt)("lang",{value:"JavaScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/components/Board.jsx"',title:'"src/components/Board.jsx"'},"// ...\nimport { update } from '../common';\n\n// Let's hardcode a word for now.\nconst word = 'react';\n\nexport default function Board() {\n  // ...\n\n  const handleKeyUp = (e) => {\n    setRows(update(e.key, word, rows));\n  };\n\n  // ...\n}\n"))),(0,o.kt)("lang",{value:"TypeScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/Board.tsx"',title:'"src/components/Board.tsx"'},"// ...\nimport { update } from '../common';\n\n// Let's hardcode a word for now.\nconst word = 'react';\n\nexport default function Board() {\n  // ...\n\n  const handleKeyUp = (e: KeyboardEvent) => {\n    setRows(update(e.key, word, rows));\n  };\n\n  // ...\n}\n")))),(0,o.kt)("p",null,"Here's where it gets interesting. We need to add this handler to our HTML document to allow us to listen for keyboard events on the page. Normally, that's done with the following JavaScript:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"document.addEventListener('keyup', handleKeyUp);\n")),(0,o.kt)("p",null,"However, since we're updating state within the component, the functions must all be defined within the component somehow. But the function runs every time the component is re-rendered. We wouldn't want a new event listener to be added every time, so we need to get this code to run only once."),(0,o.kt)("h3",{id:"using-useeffect"},"Using ",(0,o.kt)("inlineCode",{parentName:"h3"},"useEffect")),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"useEffect")," hook allows us to manage allows us to execute code based on the ",(0,o.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/state-and-lifecycle.html#adding-lifecycle-methods-to-a-class"},"lifecycle")," of the component. We can use it to run code when only certain values change, or just when the component is first rendered (this is when the component is ",(0,o.kt)("strong",{parentName:"p"},"mounted"),")."),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},'Operations that should only be done once and that could affect other components like data fetching and manually changing the DOM (like we\'re doing with the event listener) are called "side effects" (or "effects" for short). This is why it\'s called the ',(0,o.kt)("inlineCode",{parentName:"p"},"useEffect")," hook!"),(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/hooks-overview.html#effect-hook"},"https://reactjs.org/docs/hooks-overview.html#effect-hook"))),(0,o.kt)("p",null,"Let's move the event listener code into the callback argument for ",(0,o.kt)("inlineCode",{parentName:"p"},"useEffect"),"."),(0,o.kt)("langs",null,(0,o.kt)("lang",{value:"JavaScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/components/Board.jsx"',title:'"src/components/Board.jsx"'},"// ...\nimport { useEffect, useState } from 'react';\n\nexport default function Board() {\n  // ...\n\n  useEffect(() => {\n    const handleKeyUp = (e) => {\n      setRows((prev) => update(e.key, word, prev));\n    };\n\n    document.addEventListener('keyup', handleKeyUp);\n  }, []);\n\n  // ...\n}\n"))),(0,o.kt)("lang",{value:"TypeScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/Board.tsx"',title:'"src/components/Board.tsx"'},"// ...\nimport { useEffect, useState } from 'react';\n\nexport default function Board() {\n  // ...\n\n  useEffect(() => {\n    const handleKeyUp = (e: KeyboardEvent) => {\n      setRows((prev) => update(e.key, word, prev));\n    };\n\n    document.addEventListener('keyup', handleKeyUp);\n  }, []);\n\n  // ...\n}\n")))),(0,o.kt)("p",null,"Firstly, notice how we passed ",(0,o.kt)("inlineCode",{parentName:"p"},"setRows")," a function rather than a value and switched the third argument of ",(0,o.kt)("inlineCode",{parentName:"p"},"update")," from ",(0,o.kt)("inlineCode",{parentName:"p"},"rows")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"prev"),". Since we only add the event listener once, the value of the ",(0,o.kt)("inlineCode",{parentName:"p"},"rows")," variable that we pass in will always be what it was when the component initially mounted. Changing the argument to a function allows ",(0,o.kt)("inlineCode",{parentName:"p"},"setRows")," to call it with the current value of the state, which we can then pass to ",(0,o.kt)("inlineCode",{parentName:"p"},"update"),"."),(0,o.kt)("admonition",{title:"try it out!",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"If you keep it as it was before (",(0,o.kt)("inlineCode",{parentName:"p"},"setRows(update(e.key, word, rows))"),"), notice what happens. The letter in the first cell will be replaced with each letter you type! ",(0,o.kt)("inlineCode",{parentName:"p"},"setRows")," ran successfully so the first letter appears, but ",(0,o.kt)("inlineCode",{parentName:"p"},"rows")," is still empty as an argument to that function.")),(0,o.kt)("p",null,"Secondly, the second argument of ",(0,o.kt)("inlineCode",{parentName:"p"},"useEffect")," is an array of values that the component should watch for changes (its dependencies). If any of the values change, the callback function will be run again. Passing an empty array means that it'll only run once when the component mounts, and passing no array means that it'll run every time the component re-renders."),(0,o.kt)("admonition",{title:"watch out!",type:"danger"},(0,o.kt)("p",{parentName:"admonition"},"Do ",(0,o.kt)("strong",{parentName:"p"},"not")," update state for any of the dependencies within your ",(0,o.kt)("inlineCode",{parentName:"p"},"useEffect"),". For example, if state variable ",(0,o.kt)("inlineCode",{parentName:"p"},"x")," is a dependency (",(0,o.kt)("inlineCode",{parentName:"p"},"useEffect(() => {}, [x])"),"), there should not be a call to ",(0,o.kt)("inlineCode",{parentName:"p"},"setX")," within the callback function. Remember that the ",(0,o.kt)("inlineCode",{parentName:"p"},"useEffect")," callback runs every time one of its dependencies changes, so if you update the dependency's value within the callback, it'll loop infinitely. It's safe to update state for state variables that aren't dependencies (and for all variables if an empty array is passed in).")),(0,o.kt)("p",null,"Finally, when the component ",(0,o.kt)("strong",{parentName:"p"},"unmounts"),", we should remove the event listener. The ",(0,o.kt)("inlineCode",{parentName:"p"},"useEffect")," callback argument can return a function that will be called when the component unmounts. This is what that would look like:"),(0,o.kt)("langs",null,(0,o.kt)("lang",{value:"JavaScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/components/Board.jsx"',title:'"src/components/Board.jsx"'},"// ...\n\nexport default function Board() {\n  // ...\n\n  useEffect(() => {\n    const handleKeyUp = (e) => {\n      setRows((prev) => update(e.key, word, prev));\n    };\n\n    document.addEventListener('keyup', handleKeyUp);\n\n    // highlight-start\n    return () => {\n      document.removeEventListener('keyup', handleKeyUp);\n    };\n    // highlight-end\n  }, []);\n\n  // ...\n}\n"))),(0,o.kt)("lang",{value:"TypeScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/Board.tsx"',title:'"src/components/Board.tsx"'},"// ...\n\nexport default function Board() {\n  // ...\n\n  useEffect(() => {\n    const handleKeyUp = (e: KeyboardEvent) => {\n      setRows((prev) => update(e.key, word, prev));\n    };\n\n    document.addEventListener('keyup', handleKeyUp);\n\n    // highlight-start\n    return () => {\n      document.removeEventListener('keyup', handleKeyUp);\n    };\n    // highlight-end\n  }, []);\n\n  // ...\n}\n")))),(0,o.kt)("p",null,"Now, the game should be fully functional! We hardcoded the word 'react' so try playing Wordle to \"guess\" that word."),(0,o.kt)("image",{fm:r,src:"complete-react.png"}),(0,o.kt)("h3",{id:"finishing-up"},"Finishing up"),(0,o.kt)("p",null,"Let's add a function to our ",(0,o.kt)("inlineCode",{parentName:"p"},"src/common.js")," (or ",(0,o.kt)("inlineCode",{parentName:"p"},"src/common.ts"),") file to pick a random word from our list, then add one more state variable to store the random word for the board. It won't change from its initial value, so we only need to destructure the first element. Don't forget to remove the hardcoded word variable, by the way!"),(0,o.kt)("langs",null,(0,o.kt)("lang",{value:"JavaScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="src/common.js"',title:'"src/common.js"'},"// ...\n\nexport function getRandomWord() {\n  return words[Math.floor(Math.random() * words.length)];\n}\n\n// ...\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/components/Board.jsx"',title:'"src/components/Board.jsx"'},"// ...\nimport { getRandomWord, update } from '../common';\n\nexport default function Board() {\n  const [word] = useState(getRandomWord());\n\n  // ...\n}\n"))),(0,o.kt)("lang",{value:"TypeScript"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/common.ts"',title:'"src/common.ts"'},"// ...\n\nexport function getRandomWord() {\n  return words[Math.floor(Math.random() * words.length)];\n}\n\n// ...\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/Board.tsx"',title:'"src/components/Board.tsx"'},"// ...\n\nexport default function Board() {\n  // <string> isn't necessary here since the type is inferred\n  // but you can have it if you want\n  const [word] = useState<string>(getRandomWord());\n\n  // ...\n}\n")))),(0,o.kt)("h2",{id:"conclusion"},"Conclusion"),(0,o.kt)("p",null,"That's it. We've built a fully functional Wordle game using React and its features like components, props, state, lifecycle, and hooks. Chances are you probably aren't gonna be building a lot of games using React since the main intent is to build dynamic user interfaces, but it was still a fun project to get familiar with the features. Hopefully you'll be able to apply this in your own React projects!"),(0,o.kt)("h3",{id:"source-code"},"Source code"),(0,o.kt)("p",null,"If you were following along with the guide, you should have final source code of your own! However, you can also view my final source code ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/dilanx/create-tutorial/tree/main/tutorial-react-wordle-completed"},"here on GitHub")," or play around with it in your own editor by running the same setup command from before and selecting the ",(0,o.kt)("inlineCode",{parentName:"p"},"Completed")," variant."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"$ npm create tutorial wordle\n\nUsing tutorial project tutorial-react-wordle.\n? Select a variant \u203a - Use arrow-keys. Return to submit.\n    JavaScript\n    TypeScript\n\u276f   Completed\n")),(0,o.kt)("h3",{id:"community"},"Community"),(0,o.kt)("p",null,"Run into any issues or have any questions? Get a conversation going on the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/dilanx/dilan.blog/discussions"},"discussion board"),"."),(0,o.kt)("p",null,"If you notice a problem with anything in this post, please open an ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/dilanx/dilan.blog/issues"},"issue"),"."))}d.isMDXComponent=!0}}]);